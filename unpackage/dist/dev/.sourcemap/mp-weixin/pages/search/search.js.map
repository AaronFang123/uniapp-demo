{"version":3,"sources":["webpack:///D:/uniapp/demo/main.js","webpack:///D:/uniapp/demo/pages/search/search.vue?0ade","webpack:///D:/uniapp/demo/pages/search/search.vue?ff5e","webpack:///D:/uniapp/demo/pages/search/search.vue?c993","webpack:///D:/uniapp/demo/pages/search/search.vue?f2e9","webpack:///D:/uniapp/demo/pages/search/search.vue"],"names":["createPage","Page","components","indexList","emptyContent","loadMore","topicList","userList","data","isSearch","loadText","list","keyword","page","searchType","methods","updateData","type","updateGuanZhu","updateSupport","updateComment","obj","find","value","id","post_id","commentNum","oldindex","likeInfo","index","do","likeNum","dislikeNum","forEach","item","userid","isFollow","getData","uni","showLoading","title","mask","url","$http","post","token","checkToken","err","res","error","errorCheck","hideLoading","console","log","arr","i","length","push","__format","concat","user","userPic","userpic","userName","username","fens","titlePic","images","video","path","share","support","ding_count","cai_count","comment_count","shareNum","sharenum","titlepic","desc","totalPostNum","post_count","todayPostNum","todaypost_count","name","goBack","navigateBack","delta","onNavigationBarSearchInputChanged","e","onNavigationBarSearchInputConfirmed","JSON","stringify","text","onReachBottom","onPullDownRefresh","stopPullDownRefresh","onLoad","$on"],"mappings":"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","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4d247fb8&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4d247fb8')) {\n      api.createRecord('4d247fb8', component.options)\n    } else {\n      api.reload('4d247fb8', component.options)\n    }\n    module.hot.accept(\"./search.vue?vue&type=template&id=4d247fb8&\", function () {\n      api.rerender('4d247fb8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uniapp/demo/pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=4d247fb8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import indexList from \"../../components/index/index-list.vue\";\n    import emptyContent from \"../../components/common/empty-content.vue\";\n    import loadMore from '../../components/common/load-more.vue';\n    import topicList from '../../components/news/topic-list.vue';\n    import userList from '../../components/user-list/user-list.vue';\n\texport default {\n        components:{\n            indexList,\n            emptyContent,\n            loadMore,\n            topicList,\n            userList\n        },\n\t\tdata() {\n\t\t\treturn {\n                isSearch:false,\n                loadText:\"上拉加载更多\",\n\t\t\t\tlist:[],\n                keyword:\"\",\n                page:1,\n                searchType:\"post\"\n\t\t\t}\n\t\t},\n\t\tmethods: {\n            updateData(data){\n                switch (data.type){\n                    case 'guanzhu':\n                        this.updateGuanZhu(data)\n                        break;\n                    case 'support':\n                        this.updateSupport(data);\n                        break;\n                    case 'updateComment':\n                        this.updateComment(data);\n                        break;\n                }\n            },\n            updateComment(data){\n                // 拿到当前对象\n                let obj = this.list.find(value =>{\n                    return value.id === data.post_id;\n                });\n                if (!obj) return;\n                obj.commentNum++; // 评论数+1\n            },\n            // 更新顶踩\n            updateSupport(data){\n            // 拿到当前对象\n                let obj = this.list.find(value =>{\n                    return value.id === data.post_id;\n                });\n                if (!obj) return;\n                let oldindex = obj.likeInfo.index; // 操作前的状态\n                obj.likeInfo.index = data.do // 操作后的状态\n                if (oldindex !== 0) { //之前操作过\n                    oldindex == 1 ? obj.likeInfo.likeNum-- : obj.likeInfo.dislikeNum--;\n                }\n                if (obj.likeInfo.index !== 0) {  // 当前操作\n                    obj.likeInfo.index == 1 \n                        ? obj.likeInfo.likeNum++ : obj.likeInfo.dislikeNum++;\n                }    \n            },\n            // 更新关注信息\n            updateGuanZhu(data){\n                this.list.forEach((item,index)=>{\n                    if (item.userid === data.userid) {\n                        item.isFollow = data.data;\n                    }\n                })\n            },\n            //搜索事件\n            async getData(){\n                uni.showLoading({\n                    isSearch:false,\n                    title: '搜索中(｀･ω･)',\n                    mask: false\n                });\n                //请求服务端 post keyword:value\n                let url = '';\n                switch (this.searchType){\n                    case \"topic\":\n                        url = 'search/topic';\n                        break;\n                    case \"post\":\n                        url = 'search/post';\n                        break;\n                    case \"user\":\n                        url = 'search/user';\n                        break;\n                }\n                \n                let [err,res] =await this.$http.post(url,{\n                    keyword:this.keyword,\n                    page:this.page\n                },{token:true, checkToken:false});\n                let error = this.$http.errorCheck(err,res,()=>{\n                    uni.hideLoading();\n                    this.isSearch=true;\n                },()=>{\n                    uni.hideLoading();\n                    this.isSearch=true;\n                });\n                console.log(res)\n                if (!error) return;\n                let arr = [];\n                let list = res.data.data.list;\n                for (let i = 0; i < list.length; i++) {\n                    arr.push(this.__format(list[i]));\n                }\n                console.log(arr)\n                this.list = this.page > 1\n                    ? this.list.concat(arr) : arr;\n                this.isSearch = true;\n                // 拿到最后一页\n                if (list.length < 10) {\n                    this.loadText=\"没有更多数据了(`ε´ )\";\n                }else{\n                    this.loadText=\"上拉加载更多\";\n                }\n                uni.hideLoading();\n            },\n             //上拉加载更多\n\t\t\tloadMore(){\n\t\t\t    if( this.loadText != \"上拉加载更多\"){\n\t\t\t        return;//如果正在加载中(＾o＾)ﾉ或没有数据可以加载，则停止请求\n\t\t\t    }\n\t\t\t    this.loadText = \"加载中(＾o＾)ﾉ\";\n\t\t\t    //修改状态\n                this.loadText = \"加载中(＾o＾)ﾉ\";\n                this.page++;\n                this.getData();\n            },\n            __format(item){\n                switch (this.searchType){\n                    case \"post\":\n                        return {\n                            userid:item.user.id,\n                            userPic:item.user.userpic,\n                            userName:item.user.username,\n                            // isFollow:!!item.user.fens.length,\n                            isFollow:!!item.user.fens.length,\n                            // isFollow:!!item.user.fens ? !!item.user.fens.length :false,\n                            id:item.id,\n                            title:item.title,\n                            type:\"img\", // img:图文,video:视频\n                            titlePic:!!item.images[0]? item.images[0].url : '',\n                            video:false,\n                            path:item.path,\n                            share:!!item.share,\n                            likeInfo:{\n                                index:(item.support.length>0) ? (item.support[0].type+1) : 0,//0:没有操作，1:顶,2:踩；\n                                likeNum:item.ding_count,\n                                dislikeNum:item.cai_count,\n                            },\n                            commentNum:item.comment_count,\n                            shareNum:item.sharenum,\n                        }\n                        break;\n                    case \"topic\":\n                        return {\n                            id:item.id,\n                            titlePic:item.titlepic,\n                            title:item.title,\n                            desc:item.desc,\n                            totalPostNum:item.post_count,\n                            todayPostNum:item.todaypost_count\n                        }\n                        break;\n                    case \"user\":\n                        return {\n                            id:item.id,\n                            userpic:item.userpic,\n                            name:item.username,\n                            // age:item.userinfo.age,\n                            // gender:item.userinfo.sex,\n                            isFollow:false \n                        }\n                        break;\n                }\n            },\n            goBack(){\n                uni.navigateBack({\n                    delta:1\n                })\n            }\n\t\t},\n        //监听搜索框文本变化\n        onNavigationBarSearchInputChanged(e) {\n        },\n        //监听搜索框文本确认\n        onNavigationBarSearchInputConfirmed(e) {\n           console.log(JSON.stringify(e.text));\n           if(e.text){\n               this.keyword = e.text;\n               this.getData()\n           }\n        },\n        onReachBottom() {\n            this.loadMore()\n        },\n        onPullDownRefresh() {\n            this.getData(this.keyword);\n            uni.stopPullDownRefresh();\n        },\n        onLoad(e){\n            if (!e) return;\n            this.searchType = e.searchType || 'post';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n            // 开启监听\n            uni.$on('updateData',this.updateData);\n        }\n\t}\n"],"sourceRoot":""}