{"version":3,"sources":["webpack:///D:/uniapp/demo/main.js","webpack:///D:/uniapp/demo/pages/user-list/user-list.vue?b265","webpack:///D:/uniapp/demo/pages/user-list/user-list.vue?191f","webpack:///D:/uniapp/demo/pages/user-list/user-list.vue?b050","webpack:///D:/uniapp/demo/pages/user-list/user-list.vue?d455","webpack:///D:/uniapp/demo/pages/user-list/user-list.vue"],"names":["createPage","Page","components","swiperTabHead","tagGenderAge","userList","loadMore","emptyContent","data","tabIndex","tabBars","name","id","tabList","loadText","list","page","firstload","onLoad","onShow","__init","methods","getList","tabSwitch","index","follow","item","isFollow","tabChange","e","detail","current","getUrl","arr","currentIndex","$http","get","token","checkToken","err","res","errorCheck","i","length","push","__format","console","log","concat","userinfo","user_id","userpic","username","age","gender","sex","onNavigationBarSearchInputClicked","uni","navigateTo","url"],"mappings":"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","file":"pages/user-list/user-list.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/user-list/user-list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./user-list.vue?vue&type=template&id=79d0d97a&\"\nvar renderjs\nimport script from \"./user-list.vue?vue&type=script&lang=js&\"\nexport * from \"./user-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('79d0d97a')) {\n      api.createRecord('79d0d97a', component.options)\n    } else {\n      api.reload('79d0d97a', component.options)\n    }\n    module.hot.accept(\"./user-list.vue?vue&type=template&id=79d0d97a&\", function () {\n      api.rerender('79d0d97a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uniapp/demo/pages/user-list/user-list.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=template&id=79d0d97a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import swiperTabHead from '../../components/index/swiper-tab-head.vue';\n    import tagGenderAge from '../../components/common/tag-gender-age.vue';\n    import userList from '../../components/user-list/user-list.vue';\n    import loadMore from '../../components/common/load-more.vue';\n    import emptyContent from \"../../components/common/empty-content.vue\";\n    \n\texport default {\n        components:{\n            swiperTabHead,\n            tagGenderAge,\n            userList,\n            loadMore,\n            emptyContent\n        },\n\t\tdata() {\n\t\t\treturn {\n                tabIndex:0,\n\t\t\t\ttabBars:[\n\t\t\t\t    {name:\"互关\",id:\"huguan\" },\n\t\t\t\t    {name:\"关注\",id:\"guanzhu\"  },\n\t\t\t\t    {name:\"粉丝\",id:\"fensi\"  },              \n\t\t\t\t],\n                tabList:[\n                    {\n                        loadText:\"上拉加载更多\",\n                        list:[],\n                        page:1,\n                        firstload:false\n                    },\n                    {                        \n                        loadText:\"上拉加载更多\",\n                        list:[],\n                        page:1,\n                        firstload:false\n                                       \n                    },\n                    {\n                        loadText:\"上拉加载更多\",\n                        list:[]  ,\n                        page:1,\n                        firstload:false\n                    }\n                ]\n                \n                \n               \n\t\t\t}\n\t\t},\n        onLoad() {\n            \n        },\n        onShow() {\n            this.__init();\n        },\n\t\tmethods: {\n            __init(){\n                this.getList();\n            },\n            \n\t\t\ttabSwitch(index){\n\t\t\t    //点击操作获取了当前的index，再将其写入tabIndex中，匹配的项目改变样式\n\t\t\t    this.tabIndex = index;\n\t\t\t    //console.log(index)\n                if (!this.tabList[this.tabIndex].firstload) {\n                    this.getList();\n                }\n\t\t\t},\n            \n            follow(){\n                this.item.isFollow !=this.item.isFollow;\n            },\n            \n            //tabBar滑动事件\n            tabChange(e){\n                this.tabIndex = e.detail.current;\n                //console.log(index);\n                if (!this.tabList[this.tabIndex].firstload) {\n                    this.getList();\n                }\n            },\n            getUrl(){\n                let arr = ['friends/','follows/','fens/'];\n                return arr[this.tabIndex]+this.tabList[this.tabIndex].page;\n            },\n            // 获取列表\n            async getList(){\n                try{\n                    let currentIndex = this.tabIndex;\n                    let [err,res] = await this.$http.get(this.getUrl(),{},{\n                        token:true,\n                        checkToken:true\n                    });\n                    // 错误处理\n                    if (!this.$http.errorCheck(err,res)) {\n                        this.tabList[currentIndex].loadText=\"上拉加载更多\";\n                        return;\n                    }\n                    // 获取成功\n                    let arr = [];\n                    \n                    let list = res.data.data.list;\n                    for (let i = 0; i < list.length; i++) {\n                        arr.push(this.__format(list[i],currentIndex));\n                    }\n                    console.log(res)\n                    console.log(list)\n                    \n                    \n                    this.tabList[currentIndex].list = this.tabList[currentIndex].page > 1 ? this.tabList[currentIndex].list.concat(arr) : arr;\n                    this.tabList[currentIndex].firstload = true;\n                    this.tabList[currentIndex].loadText= list.length < 10 ? \"没有更多数据了\" : \"上拉加载更多\";\n                    return;\n                }catch(e){\n                    return;\n                }\n            },\n            __format(item,currentIndex){\n                return {\n                    id:item.userinfo.user_id,\n                    userpic:item.userpic,\n                    name:item.username,\n                    age:item.userinfo.age,\n                    gender:item.userinfo.sex,\n                    isFollow:currentIndex !== 2 \n                }\n            },\n            loadMore(index){\n                if( this.tabList[index].loadText != \"上拉加载更多\"){\n                    return;//如果正在加载中(＾o＾)ﾉ或没有数据可以加载，则停止请求\n                }\n                this.tabList[index].loadText = \"加载中(＾o＾)ﾉ\";\n                //修改状态\n                this.tabList[index].page++;\n                this.getList();\n                \n            }\n\t\t},\n        onNavigationBarSearchInputClicked(e){\n            uni.navigateTo({\n                url:\"../search/search?searchType=user\"\n            })\n        }\n\t}\n"],"sourceRoot":""}