{"version":3,"sources":["webpack:///D:/uniapp/demo/main.js","webpack:///D:/uniapp/demo/pages/topic-detail/topic-detail.vue?a81c","webpack:///D:/uniapp/demo/pages/topic-detail/topic-detail.vue?9417","webpack:///D:/uniapp/demo/pages/topic-detail/topic-detail.vue?675b","webpack:///D:/uniapp/demo/pages/topic-detail/topic-detail.vue?6bd6","webpack:///D:/uniapp/demo/pages/topic-detail/topic-detail.vue"],"names":["createPage","Page","components","topicInfo","loadMore","swiperTabHead","commonList","data","tabIndex","tabBars","name","id","tablist","loadText","firstload","page","list","onReachBottom","onPullDownRefresh","getData","onLoad","e","__init","JSON","parse","detail","methods","obj","uni","setNavigationBarTitle","title","getList","url","$http","get","token","err","res","errorCheck","arr","i","length","push","__format","concat","stopPullDownRefresh","item","userid","user","userPic","userpic","userName","username","isFollow","fens","type","titlePic","images","video","path","share","likeInfo","index","support","likeNum","ding_count","dislikeNum","cai_count","commentNum","comment_count","shareNum","sharenum","console","log","tabSwitch"],"mappings":"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","file":"pages/topic-detail/topic-detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/topic-detail/topic-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./topic-detail.vue?vue&type=template&id=54a8ff50&\"\nvar renderjs\nimport script from \"./topic-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./topic-detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('54a8ff50')) {\n      api.createRecord('54a8ff50', component.options)\n    } else {\n      api.reload('54a8ff50', component.options)\n    }\n    module.hot.accept(\"./topic-detail.vue?vue&type=template&id=54a8ff50&\", function () {\n      api.rerender('54a8ff50', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uniapp/demo/pages/topic-detail/topic-detail.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-detail.vue?vue&type=template&id=54a8ff50&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import loadMore from '../../components/common/load-more.vue';\n    import topicInfo from \"../../components/topic/topic-info.vue\";\n    import swiperTabHead from '../../components/index/swiper-tab-head.vue';\n    import commonList from \"../../components/common/common-list.vue\";\n\texport default {\n        components:{\n            topicInfo,\n            loadMore,\n            swiperTabHead,\n            commonList\n        },\n\t\tdata() {\n\t\t\treturn {\n                tabIndex:0,\n                tabBars:[\n                    {name:\"默认\",id:\"default\"      },\n                    {name:\"最新\",id:\"lastest\"      },              \n                ],\n                tablist:[\n                    //默认tab\n                    {\n                        loadText:\"上拉加载更多\",\n                        firstload:false,\n                        page:1,\n                        list:[]\n                    },\n                    //最新tab\n                    {\n                        loadText:\"上拉加载更多\",\n                        firstload:false,\n                        page:1,\n                        list:[]\n                    },\n                    \n                ],\n\t\t\t\ttopicInfo:{}\n\t\t\t}\n\t\t},\n        //监听上拉触底\n        onReachBottom() {\n            //上拉加载\n            this.loadMore();  \n        },\n        //监听下拉刷新\n        onPullDownRefresh() {\n            \n            this.getData();\n        },\n        onLoad(e) {\n            this.__init(JSON.parse(e.detail))\n        },\n\t\tmethods: {\n        __init(obj){\n            this.topicInfo = obj;\n            uni.setNavigationBarTitle({\n                title:obj.title\n            });\n            // 获取列表数据\n            this.getList();\n        },\n            // 获取数据\n        async getList(){\n            let url = `topic/${this.topicInfo.id}/post/${this.tablist[this.tabIndex].page}`;\n            let [err,res] = await this.$http.get(url,{},{token:true});\n            // 错误处理\n            if (!this.$http.errorCheck(err,res)) {\n                return this.tablist[this.tabIndex].loadText=\"上拉加载更多\";\n            }\n            let arr = [];\n            let list = res.data.data.list;\n            for (let i = 0; i < list.length; i++) {\n                arr.push(this.__format(list[i]));\n            }\n            this.tablist[this.tabIndex].list = this.tablist[this.tabIndex].page > 1 ? \n                this.tablist[this.tabIndex].list.concat(arr) : arr;\n            this.tablist[this.tabIndex].firstload = true;\n            uni.stopPullDownRefresh();\n            return\tthis.tablist[this.tabIndex].loadText=(list.length < 10) ?\"没有更多数据了\" : \"上拉加载更多\";\n        },\n            // 转换格式\n\t\t\t__format(item){\n\t\t\t    return {\n\t\t\t        userid:item.user.id,\n\t\t\t        userPic:item.user.userpic,\n\t\t\t        userName:item.user.username,\n\t\t\t        // isFollow:!!item.user.fens.length,\n\t\t\t        isFollow:!!item.user.fens?!!item.user.fens.length:0,\n\t\t\t        id:item.id,\n\t\t\t        title:item.title,\n\t\t\t        type:\"img\", // img:图文,video:视频\n\t\t\t        titlePic:!!item.images[0].url ? item.images[0].url : '',\n\t\t\t        video:false,\n\t\t\t        path:item.path,\n\t\t\t        share:!!item.share,\n\t\t\t        likeInfo:{\n\t\t\t            index:!!item.support? (item.support[0].type+1) : 0,//0:没有操作，1:顶,2:踩；\n\t\t\t            likeNum:item.ding_count,\n\t\t\t            dislikeNum:item.cai_count,\n\t\t\t        },\n\t\t\t        commentNum:item.comment_count,\n\t\t\t        shareNum:item.sharenum,\n                    likeNum:item.ding_count\n\t\t\t    }\n\t\t\t},\n            \n            //上拉加载\n            loadMore(){\n                if(this.tablist[this.tabIndex].loadText != \"上拉加载更多\"){\n                    return;//如果正在加载中(＾o＾)ﾉ或没有数据可以加载，则停止请求\n                }\n                console.log(\"running1\")\n                this.tablist[this.tabIndex].loadText = \"加载中(＾o＾)ﾉ\";\n                // 页数++ 获取数据\n                this.tablist[this.tabIndex].page++;\n                this.getList();\n            },\n\t\t\t//tabBar点击事件\n\t\t\ttabSwitch(index){\n\t\t\t    //点击操作获取了当前的index，再将其写入tabIndex中，匹配的项目改变样式\n\t\t\t    this.tabIndex = index;\n                this.tablist[this.tabIndex].page = 1;\n\t\t\t    this.getList();\n\t\t\t},\n\t\t}\n\t}\n"],"sourceRoot":""}