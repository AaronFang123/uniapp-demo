{"version":3,"sources":["webpack:///D:/uniapp/demo/main.js","webpack:///D:/uniapp/demo/pages/login/login.vue?18b5","webpack:///D:/uniapp/demo/pages/login/login.vue?1cd8","webpack:///D:/uniapp/demo/pages/login/login.vue?42d0","webpack:///D:/uniapp/demo/pages/login/login.vue?e317","webpack:///D:/uniapp/demo/pages/login/login.vue","webpack:///D:/uniapp/demo/pages/login/login.vue?d051","webpack:///D:/uniapp/demo/pages/login/login.vue?b38a"],"names":["createPage","Page","components","uniStatusBar","otherLogin","data","vericodeAble","isLoginById","disable","loading","userName","pw","phoneNum","vericode","countDown","methods","initInput","back","uni","navigateBack","delta","submit","console","log","User","login","url","username","password","phone","code","loginSwitch","OnBtnChange","isPhoneNumVaild","mPattern","test","getVericode","showToast","title","icon","$http","post","err","res","errorCheck","errCode","msg","duration","timer","setInterval","clearInterval","watch","val","wal"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=47422b4c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('47422b4c')) {\n      api.createRecord('47422b4c', component.options)\n    } else {\n      api.reload('47422b4c', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=47422b4c&\", function () {\n      api.rerender('47422b4c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uniapp/demo/pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=47422b4c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import uniStatusBar from \"../../components/uni-status-bar/uni-status-bar.vue\"\n\timport otherLogin from \"../../components/home/other-login.vue\";\n    export default {\n        components:{\n            uniStatusBar,\n            otherLogin\n        },\n\t\tdata() {\n\t\t\treturn {\n                vericodeAble:true,\n                isLoginById:true,\n\t\t\t\tdisable:true ,//是否禁用按钮\n\t\t\t\tloading:false,\n                userName:\"\",\n                pw:\"\",\n                phoneNum:\"\",\n                vericode:\"\",\n                countDown:0\n\t\t\t}\n\t\t},\n\t\tmethods: {\n            //初始化表单\n            initInput(){\n                this.userName = \"\";\n                this.pw = \"\";\n                this.phoneNum = \"\";\n                this.vericode = \"\";\n            },\n\t\t\tback(){\n                uni.navigateBack({\n                    delta:1\n                });\n            },\n            async submit(){\n                //账号密码登录\n                if(this.isLoginById){\n                    console.log(\"login: id:\"+this.userName+\" pw:\"+this.pw)\n                    return this.User.login({\n                        url:\"user/login\",\n                        data:{\n                            username:this.userName,\n                            password:this.pw\n                        }\n                    })\n                }\n                else{\n                    // 手机验证\n                    console.log(\"login: phonenum:\"+this.phoneNum+\" verify code:\"+this.vericode)\n                    return this.User.login({\n                        url:\"user/phonelogin\",\n                        data:{\n                            phone:this.phoneNum,\n                            code:this.vericode\n                        }\n                    })\n                }\n            },\n            // 切换登陆方式\n            loginSwitch(){\n                this.initInput();\n                this.isLoginById = !this.isLoginById\n            },\n            // 改变按钮状态\n            OnBtnChange(){\n                if((this.userName && this.pw) || (this.phoneNum && this.vericode \n                && this.isPhoneNumVaild(this.phoneNum)) \n               ){\n                    this.disable = false\n                }\n                else{\n                    this.disable = true\n                }\n            },\n            //手机号码合法性\n            isPhoneNumVaild(phoneNum){\n                //手机号正则\n                let mPattern = /^1[34578]\\d{9}$/; \n                if(mPattern.test(this.phoneNum)){\n                    return true;\n                }\n                else{\n                    return false;\n                }\n            },\n            //获取验证码\n            async getVericode(){\n                this.vericodeAble = false\n                if(this.countDown > 0){\n                    return ;//禁用\n                }\n                else{                  \n                    //输出 true\n                    if(!this.isPhoneNumVaild(this.phoneNum)){\n                        uni.showToast({\n                            title:\"请检查手机号码格式！\",\n                            icon:\"none\"\n                        });\n                        this.vericodeAble = true\n                        return\n                    }\n                    // 请求服务器，发送验证码到手机\n                    let [err, res] = await this.$http.post('user/sendcode',{\n                        phone:this.phoneNum\n                    });\n                    // 请求失败\n                    this.$http.errorCheck(err, res)\n                    if(res.data.errCode === 30001) {\n                        uni.showToast({\n                            title:\"操作过于频繁，请稍后再试\",\n                            icon:\"none\"\n                        })\n                        return;\n                    }\n                    uni.showToast({\n                        title:res.data.msg,\n                        duration:3000,\n                        icon:\"none\"\n                    });\n                    // 发送成功 开始倒计时\n                    this.countDown = 60;\n                    let timer = setInterval(()=>{\n                         this.countDown--;\n                         if(this.countDown === 0){\n                            this.vericodeAble = true\n                            clearInterval(timer);\n                            this.countDown = 0;\n                            return;\n                         }\n                         else{\n                              this.vericodeAble = false\n                         }\n                    },1000)\n                }\n            }\n\t\t},\n        watch:{\n            userName(val){\n                this.OnBtnChange()\n            },\n            pw(wal){\n                this.OnBtnChange()\n            },\n            phoneNum(val){\n                this.OnBtnChange()\n            },\n            vericode(val){\n                this.OnBtnChange()\n            }\n        }\n\t}\n","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}