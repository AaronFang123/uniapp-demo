{"version":3,"sources":["webpack:///D:/uniapp/demo/main.js","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue?78cf","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue?f166","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue?d9e4","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue?f892","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue"],"names":["createPage","Page","data","swiperHeight","tabIndex","tabBars","newsList","components","swiperTabHead","emptyContent","loadMore","topicList","onLoad","uni","getSystemInfo","success","res","height","windowHeight","upx2px","getNav","methods","getList","currentIndex","url","id","page","$http","get","err","error","errorCheck","loadText","console","log","arr","list","i","length","push","titlePic","titlepic","title","desc","totalPostNum","post_count","todayPostNum","todaypost_count","concat","firstload","showToast","icon","errorCode","msg","arr2","name","classname","index","tabSwitch","tabChange","e","detail","current"],"mappings":"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","file":"pages/topic-nav/topic-nav.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/topic-nav/topic-nav.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./topic-nav.vue?vue&type=template&id=4a197684&\"\nvar renderjs\nimport script from \"./topic-nav.vue?vue&type=script&lang=js&\"\nexport * from \"./topic-nav.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4a197684')) {\n      api.createRecord('4a197684', component.options)\n    } else {\n      api.reload('4a197684', component.options)\n    }\n    module.hot.accept(\"./topic-nav.vue?vue&type=template&id=4a197684&\", function () {\n      api.rerender('4a197684', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uniapp/demo/pages/topic-nav/topic-nav.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-nav.vue?vue&type=template&id=4a197684&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-nav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-nav.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import swiperTabHead from '../../components/index/swiper-tab-head.vue';\n    import emptyContent from \"../../components/common/empty-content.vue\";\n    import loadMore from '../../components/common/load-more.vue';\n    import topicList from \"../../components/news/topic-list.vue\"\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n                swiperHeight:500,\n\t\t\t\ttabIndex:0,//默认id\n\t\t\t\ttabBars:[],\n                newsList:[]\n\t\t\t}\n\t\t},\n        components:{\n            swiperTabHead,\n            emptyContent,\n            loadMore,\n            topicList\n        },\n        onLoad() {\n            uni.getSystemInfo({\n                success: (res) => {\n                    let height= res.windowHeight - uni.upx2px(100);//tabBar的高度是100upx\n                    this.swiperHeight = height;\n                }\n            })\n            this.getNav();\n        },\n\t\tmethods: {\n            async getList(){\n                let currentIndex = this.tabIndex;\n                let url = `topicclass/${this.tabBars[this.tabIndex].id}/topic/${this.newsList[this.tabIndex].page}`;\n                let [err,res] = await this.$http.get(url,{});\n                let error = this.$http.errorCheck(err,res,()=>{\n                    this.newsList[currentIndex].loadText=\"上拉加载更多\";\n                },()=>{\n                    this.newsList[currentIndex].loadText=\"上拉加载更多\";\n                });\n                console.log(res)\n                if (!error) return;\n                let arr = [];\n                let list = res.data.data.list;\n                for (let i = 0; i < list.length; i++) {\n                    arr.push({\n                            id:list[i].id,\n                            titlePic:list[i].titlepic,\n                            title:list[i].title,\n                            desc:list[i].desc,\n                            totalPostNum:list[i].post_count,\n                            todayPostNum:list[i].todaypost_count,\n                    });\n                }\n                this.newsList[currentIndex].list = this.newsList[currentIndex].page > 1 \n                    ? this.newsList[currentIndex].list.concat(arr) : arr;\n                this.newsList[currentIndex].firstload = true;\n                // 拿到最后一页\n                if (list.length < 10) {\n                    this.newsList[currentIndex].loadText=\"没有更多数据了(`ε´ )\";\n                }else{\n                    this.newsList[currentIndex].loadText=\"上拉加载更多\";\n                }\n                return;\n            },\n            async getNav(){\n                let [err, res] = await this.$http.get('topicclass');\n                if(err){\n                    return  uni.showToast({\n                        title: '加载失败',\n                        icon:'none'\n                    });\n                }\n                if(res.data.errorCode){\n                    return  uni.showToast({\n                        title: res.data.msg,\n                        icon:'none'\n                    });\n                }\n                console.log(res)\n                let list = res.data.data.list;\n                let arr = [];\n                let arr2 = [];\n                for (let i = 0; i < list.length; i++) {\n                    arr.push({\n                        id:list[i].id,\n                        name:list[i].classname\n                    })\n                    \n                    arr2.push({\n                        loadText:\"上拉加载更多\",\n                        list:[],\n                        page:1,\n                        firstload:false\n                    })\n                }\n                this.tabBars = arr;\n                this.newsList = arr2;\n                this.tabBars.length > 0 && this.getList();\n            },\n            loadMore(index){\n                if( this.newsList[index].loadText != \"上拉加载更多\"){\n                    return;//如果正在加载中(＾o＾)ﾉ或没有数据可以加载，则停止请求\n                }\n                this.newsList[index].loadText = \"加载中(＾o＾)ﾉ\";\n                //修改状态\n                // 修改状态\n                this.newsList[this.tabIndex].page++;\n                this.getList();\n                //this.newsList[index].loadText = \"没有更多数据\";\n                \n            },\n\t\t\t//tabBar点击事件\n\t\t\ttabSwitch(index){\n\t\t\t    //点击操作获取了当前的index，再将其写入tabIndex中，匹配的项目改变样式\n\t\t\t    this.tabIndex = index;\n                this.getList()\n\t\t\t    //console.log(index)\n\t\t\t},\n            //tabBar滑动事件\n            tabChange(e){\n                this.tabIndex = e.detail.current;\n                this.getList()\n                //console.log(index);\n            }\n\t\t}\n\t}\n"],"sourceRoot":""}