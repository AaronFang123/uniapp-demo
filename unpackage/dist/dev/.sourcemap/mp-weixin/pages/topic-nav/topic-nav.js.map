{"version":3,"sources":["webpack:///D:/uniapp/demo/main.js","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue?78cf","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue?f166","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue?d9e4","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue?f892","webpack:///D:/uniapp/demo/pages/topic-nav/topic-nav.vue"],"names":["createPage","Page","data","tabIndex","tabBars","newsList","ischange","components","swiperTabHead","emptyContent","loadMore","topicList","onLoad","e","uni","setNavigationBarTitle","title","getNav","methods","getList","currentIndex","url","id","page","$http","get","err","res","error","errorCheck","loadText","console","log","arr","list","i","length","push","titlePic","titlepic","desc","totalPostNum","post_count","todayPostNum","todaypost_count","concat","firstload","showToast","icon","errorCode","msg","arr2","name","classname","index","tabSwitch","tabChange","detail","current"],"mappings":"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","file":"pages/topic-nav/topic-nav.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/topic-nav/topic-nav.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./topic-nav.vue?vue&type=template&id=4a197684&\"\nvar renderjs\nimport script from \"./topic-nav.vue?vue&type=script&lang=js&\"\nexport * from \"./topic-nav.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4a197684')) {\n      api.createRecord('4a197684', component.options)\n    } else {\n      api.reload('4a197684', component.options)\n    }\n    module.hot.accept(\"./topic-nav.vue?vue&type=template&id=4a197684&\", function () {\n      api.rerender('4a197684', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uniapp/demo/pages/topic-nav/topic-nav.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-nav.vue?vue&type=template&id=4a197684&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-nav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-nav.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import swiperTabHead from '../../components/index/swiper-tab-head.vue';\n    import emptyContent from \"../../components/common/empty-content.vue\";\n    import loadMore from '../../components/common/load-more.vue';\n    import topicList from \"../../components/news/topic-list.vue\"\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttabIndex:0,//默认id\n\t\t\t\ttabBars:[],\n                newsList:[],\n                ischange:false\n\t\t\t}\n\t\t},\n        components:{\n            swiperTabHead,\n            emptyContent,\n            loadMore,\n            topicList\n        },\n        onLoad(e) {\n            if (e.ischange) {\n                this.ischange = true;\n                // 修改页面标题\n                uni.setNavigationBarTitle({\n                    title:\"选择所属话题\"\n                })\n            }\n            \n            this.getNav();\n        },\n\t\tmethods: {\n            async getList(){\n                let currentIndex = this.tabIndex;\n                let url = `topicclass/${this.tabBars[this.tabIndex].id}/topic/${this.newsList[this.tabIndex].page}`;\n                let [err,res] = await this.$http.get(url,{});\n                let error = this.$http.errorCheck(err,res,()=>{\n                    this.newsList[currentIndex].loadText=\"上拉加载更多\";\n                },()=>{\n                    this.newsList[currentIndex].loadText=\"上拉加载更多\";\n                });\n                console.log(res)\n                if (!error) return;\n                let arr = [];\n                let list = res.data.data.list;\n                for (let i = 0; i < list.length; i++) {\n                    arr.push({\n                            id:list[i].id,\n                            titlePic:list[i].titlepic,\n                            title:list[i].title,\n                            desc:list[i].desc,\n                            totalPostNum:list[i].post_count,\n                            todayPostNum:list[i].todaypost_count,\n                    });\n                }\n                this.newsList[currentIndex].list = this.newsList[currentIndex].page > 1 \n                    ? this.newsList[currentIndex].list.concat(arr) : arr;\n                this.newsList[currentIndex].firstload = true;\n                // 拿到最后一页\n                if (list.length < 10) {\n                    this.newsList[currentIndex].loadText=\"没有更多数据了(`ε´ )\";\n                }else{\n                    this.newsList[currentIndex].loadText=\"上拉加载更多\";\n                }\n                return;\n            },\n            async getNav(){\n                let [err, res] = await this.$http.get('topicclass');\n                if(err){\n                    return  uni.showToast({\n                        title: '加载失败',\n                        icon:'none'\n                    });\n                }\n                if(res.data.errorCode){\n                    return  uni.showToast({\n                        title: res.data.msg,\n                        icon:'none'\n                    });\n                }\n                console.log(res)\n                let list = res.data.data.list;\n                let arr = [];\n                let arr2 = [];\n                for (let i = 0; i < list.length; i++) {\n                    arr.push({\n                        id:list[i].id,\n                        name:list[i].classname\n                    })\n                    \n                    arr2.push({\n                        loadText:\"上拉加载更多\",\n                        list:[],\n                        page:1,\n                        firstload:false\n                    })\n                }\n                this.tabBars = arr;\n                this.newsList = arr2;\n                this.tabBars.length > 0 && this.getList();\n            },\n            loadMore(index){\n                if( this.newsList[index].loadText != \"上拉加载更多\"){\n                    return;//如果正在加载中(＾o＾)ﾉ或没有数据可以加载，则停止请求\n                }\n                this.newsList[index].loadText = \"加载中(＾o＾)ﾉ\";\n                //修改状态\n                // 修改状态\n                this.newsList[this.tabIndex].page++;\n                this.getList();\n                //this.newsList[index].loadText = \"没有更多数据\";\n                \n            },\n\t\t\t//tabBar点击事件\n\t\t\ttabSwitch(index){\n\t\t\t    //点击操作获取了当前的index，再将其写入tabIndex中，匹配的项目改变样式\n\t\t\t    this.tabIndex = index;\n                this.getList()\n\t\t\t    //console.log(index)\n\t\t\t},\n            //tabBar滑动事件\n            tabChange(e){\n                this.tabIndex = e.detail.current;\n                this.getList()\n                //console.log(index);\n            }\n\t\t}\n\t}\n"],"sourceRoot":""}