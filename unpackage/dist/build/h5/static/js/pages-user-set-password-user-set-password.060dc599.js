(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-set-password-user-set-password"],{"37a6":function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-input",{staticClass:"uni-input common-input",attrs:{type:"password",placeholder:"输入旧密码"},model:{value:t.oldPw,callback:function(e){t.oldPw=e},expression:"oldPw"}}),n("v-uni-input",{staticClass:"uni-input common-input",attrs:{type:"password",placeholder:"输入新密码"},model:{value:t.newPw,callback:function(e){t.newPw=e},expression:"newPw"}}),n("v-uni-input",{staticClass:"uni-input common-input",attrs:{type:"password",placeholder:"确认新密码"},model:{value:t.comfirmedPw,callback:function(e){t.comfirmedPw=e},expression:"comfirmedPw"}}),n("v-uni-button",{staticClass:"user-setting-logout-btn ",class:{"user-set-btn-disable":t.disable},attrs:{type:"primary",disabled:t.disable,loading:t.loading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("修改密码")])],1)},s=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return i})},"680d":function(t,e,n){var i=n("9fd6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("1c07591d",i,!0,{sourceMap:!1,shadowMode:!1})},"86b2":function(t,e,n){"use strict";n.r(e);var i=n("b0b7"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=o.a},"9fd6":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"/* 公共按钮 */.user-set-btn[data-v-2a671fe1]{width:100%;margin:%?20?% 0;background:#009687!important;border:0!important;\r\n\t/* color: #333333!important; */color:#fff!important}.user-set-btn-disable[data-v-2a671fe1]{background:#f4f4f4!important;border:%?1?% solid #eee!important;color:#909090!important}.body[data-v-2a671fe1]{padding:0 %?20?%!important}.common-input[data-v-2a671fe1]{font-size:%?30?%;border-bottom:%?1?% solid #f4f4f4}.user-setting-logout-btn[data-v-2a671fe1]{position:fixed;bottom:%?600?%;left:%?20?%;right:%?20?%;background:#009687}",""])},b0b7:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("768b"));n("96cf");var s=i(n("3b8d")),a={data:function(){return{oldPw:"",newPw:"",comfirmedPw:"",disable:!0,loading:!1}},methods:{check:function(){return!!(this.oldPw&&this.newPw&&this.comfirmedPw&&""!=this.oldPw&&""!=this.newPw&&""!=this.comfirmedPw&&this.newPw===this.comfirmedPw)||(this.oldPw&&""!=this.oldPw?this.newPw&&""!=this.newPw?this.comfirmedPw&&""!=this.comfirmedPw?this.newPw!==this.comfirmedPw?(uni.showToast({icon:"none",title:"新密码输入不一致,请重新输入!"}),!1):void 0:(uni.showToast({icon:"none",title:"请输入新密码以确认!"}),!1):(uni.showToast({icon:"none",title:"新密码不能为空!"}),!1):(uni.showToast({icon:"none",title:"旧密码不能为空!"}),!1))},submit:function(){var t=(0,s.default)(regeneratorRuntime.mark(function t(){var e,n,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,this.disable=!0,this.check()){t.next=6;break}return this.loading=!1,this.disable=!0,t.abrupt("return");case 6:return t.next=8,this.$http.post("/repassword",{oldpassword:this.oldPw||0,newpassword:this.newPw,renewpassword:this.newPw},{token:!0,checkToken:!0});case 8:if(e=t.sent,n=(0,o.default)(e,2),i=n[0],s=n[1],this.$http.errorCheck(i,s)){t.next=15;break}return this.loading=this.disable=!1,t.abrupt("return");case 15:return this.User.userinfo.password=!0,uni.setStorageSync("userinfo",this.User.userinfo),this.loading=this.disable=!1,t.abrupt("return",uni.showToast({title:"修改密码成功！",success:function(){uni.navigateBack({delta:1})}}));case 20:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),change:function(){this.oldPw&&this.newPw&&this.comfirmedPw?this.disable=!1:this.disable=!0}},watch:{comfirmedPw:function(t){this.change()},newPw:function(t){this.change()},oldPw:function(t){this.change()}}};e.default=a},c1d2:function(t,e,n){"use strict";var i=n("680d"),o=n.n(i);o.a},f14b:function(t,e,n){"use strict";n.r(e);var i=n("37a6"),o=n("86b2");for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);n("c1d2");var a,r=n("f0c5"),u=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"2a671fe1",null,!1,i["a"],a);e["default"]=u.exports}}]);