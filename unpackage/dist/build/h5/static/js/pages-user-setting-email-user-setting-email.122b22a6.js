(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-setting-email-user-setting-email"],{"18a9":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("768b"));i("96cf");var s=n(i("3b8d")),r={data:function(){return{email:"",Pw:"",disable:!0,loading:!1}},methods:{verifyEmailFormat:function(){var t=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return!!t.test(this.email)||(uni.showToast({title:"请输入正确邮箱格式",icon:"none"}),!1)},check:function(){return!!(this.email&&this.Pw&&""!=this.email&&""!=this.Pw&&this.verifyEmailFormat()&&this.Pw===this.User.userinfo.phone)||(this.email&&""!=this.email?this.Pw&&""!=this.Pw?this.Pw!==this.User.userinfo.phone?(uni.showToast({icon:"none",title:"手机与当前登录账号不一致"}),!1):void 0:(uni.showToast({icon:"none",title:"手机不能为空"}),!1):(uni.showToast({icon:"none",title:"邮箱不能为空"}),!1))},submit:function(){var t=(0,s.default)(regeneratorRuntime.mark(function t(){var e,i,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,this.disable=!0,this.check()){t.next=6;break}return this.loading=!1,this.disable=!0,t.abrupt("return");case 6:return t.next=8,this.$http.post("/user/bindemail",{email:this.email,phone:this.Pw},{token:!0,checkToken:!0});case 8:if(e=t.sent,i=(0,a.default)(e,2),n=i[0],s=i[1],this.$http.errorCheck(n,s)){t.next=14;break}return t.abrupt("return",this.loading=this.disable=!1);case 14:return this.loading=this.disabled=!1,this.User.userinfo.email=this.email,uni.setStorageSync("userinfo",this.User.userinfo),t.abrupt("return",uni.showToast({title:"绑定成功！",success:function(){uni.navigateBack({delta:1})}}));case 18:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),change:function(){this.Pw&&this.email?this.disable=!1:this.disable=!0}},watch:{email:function(t){this.change()},Pw:function(t){this.change()}}};e.default=r},"68fb":function(t,e,i){"use strict";i.r(e);var n=i("c590"),a=i("f202");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("ac28");var r,o=i("f0c5"),u=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"fc96b40e",null,!1,n["a"],r);e["default"]=u.exports},ac28:function(t,e,i){"use strict";var n=i("fe99"),a=i.n(n);a.a},c590:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-input",{staticClass:"uni-input common-input",attrs:{type:"text",placeholder:"输入邮箱"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("v-uni-input",{staticClass:"uni-input common-input",attrs:{type:"text",placeholder:"确认您的手机号码"},model:{value:t.Pw,callback:function(e){t.Pw=e},expression:"Pw"}}),i("v-uni-button",{staticClass:"user-setting-logout-btn ",class:{"user-set-btn-disable":t.disable},attrs:{type:"primary",disabled:t.disable,loading:t.loading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("绑定邮箱")])],1)},s=[];i.d(e,"b",function(){return a}),i.d(e,"c",function(){return s}),i.d(e,"a",function(){return n})},df4b:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"/* 公共按钮 */.user-set-btn[data-v-fc96b40e]{width:100%;margin:%?20?% 0;background:#009687!important;border:0!important;\r\n\t/* color: #333333!important; */color:#fff!important}.user-set-btn-disable[data-v-fc96b40e]{background:#f4f4f4!important;border:%?1?% solid #eee!important;color:#909090!important}.body[data-v-fc96b40e]{padding:0 %?20?%!important}.common-input[data-v-fc96b40e]{font-size:%?30?%;border-bottom:%?1?% solid #f4f4f4}.user-setting-logout-btn[data-v-fc96b40e]{position:fixed;bottom:%?600?%;left:%?20?%;right:%?20?%;background:#009687}",""])},f202:function(t,e,i){"use strict";i.r(e);var n=i("18a9"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},fe99:function(t,e,i){var n=i("df4b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("8e50be30",n,!0,{sourceMap:!1,shadowMode:!1})}}]);